<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dao.AdminMapper">
	<select id="foodCnt" resultType="com.java.admin.dto.AdminFoodDto">
		 <![CDATA[
		 	select * from
			(select count(food_code) as totalFoodCnt from food),
			(select count(food_kind) as korFood from food where food_kind like '한식 -%'),
			(select count(food_kind) as chnFood from food where food_kind like '중식 -%'),
			(select count(food_kind) as jpFood from food where food_kind like '일식 -%'),
			(select count(food_kind) as wtFood from food where food_kind like '양식 -%'),
			(select count(food_kind) as cafe from food where food_kind like '카페/술 -%'),
			(select count(food_kind) as etc from food where food_kind like '기타 -%')
		 ]]>
	</select>
	<select id="foodReadRank" resultType="com.java.admin.dto.AdminFoodReadDto">
	<![CDATA[
		select * FROM ( select food_code, food_name, food_read, ROW_NUMBER() OVER (ORDER BY food_read desc) rank from food) where rownum <=10
	]]>	
	</select>
	<select id="couponReadRank" resultType="com.java.admin.dto.AdminFoodReadDto">
	<![CDATA[
		SELECT * FROM ()
	]]>	
	</select>
</mapper>